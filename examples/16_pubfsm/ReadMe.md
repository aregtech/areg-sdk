# 16_pubfsm Project Overview

The [16_pubfsm](https://github.com/aregtech/areg-sdk/tree/master/examples/16_pubfsm) project demonstrates the utilization of AREG Framework features to build a *Finite-State Machine* (**FSM**) with *Triggers*, *Timers*, and *Events*. The FSM sources are generated by a code generator tool, and the project also includes dynamic models to start multiple instances of Service Consumers.

The project consists of three sub-projects:

1. [generated](https://github.com/aregtech/areg-sdk/tree/master/examples/15_generated/generated) (16_generated): This static library contains generated codes and common objects. It is generated from the [PowerManager.siml](https://github.com/aregtech/areg-sdk/blob/master/examples/16_pubfsm/res/PowerManager.siml) and [TrafficController.siml](https://github.com/aregtech/areg-sdk/blob/master/examples/16_pubfsm/res/TrafficController.siml) Service Interface documents using the `codegen.jar` tool. Additionally, the [TrafficLightFSM.cpp](https://github.com/aregtech/areg-sdk/blob/master/examples/16_pubfsm/generated/src/private/TrafficLightFSM.cpp) file contains the implementation of the *Finite-State Machine (FSM)* using AREG Framework features.

2. [pubservice](https://github.com/aregtech/areg-sdk/tree/master/examples/16_pubfsm/pubservice) (16_pubservice): This sub-project creates an instance of a *Public Service* that includes the *Finite-State Machine* (**FSM**). A local service interacts with the user to change the states of the FSM and control its execution. Users can interact with the application using the following commands:
   - `on` to simulate power ON.
   - `start` to start the FSM run (as a traffic light controller).
   - `stop` to stop the FSM run (as a traffic light controller).
   - `off` to simulate power OFF.
   - `quit` or `q` to exit the application, which also closes all clients.

3. [pubclient](https://github.com/aregtech/areg-sdk/tree/master/examples/16_pubfsm/pubclient) (16_pubclient): This sub-project contains an instance of a *Service Consumer*, which is defined in the dynamic model during runtime. This approach allows starting and running multiple instances of the same application, with each instance of the Service Provider having a unique name. When the application starts, you can use one of the following commands:
   - Type `sn` to subscribe to one set of data updates.
   - Type `ew` to subscribe to another set of data updates.

Communication within the system is facilitated by `mcrouter`, a multicast router that operates on any machine within the network. The AREG SDK automates service discovery and ensures a fault-tolerant system, making the order of process startup irrelevant.
